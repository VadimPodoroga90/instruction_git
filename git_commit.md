[< к содержанию](/readme.md)

# git commit

Команда ``git commit`` делает для проекта снимок текущего состояния изменений, добавленных в раздел проиндексированных файлов. Такие подтвержденные снимки состояния можно рассматривать как «безопасные» версии проекта — **Git** не будет их менять, пока вы явным образом не попросите об этом. Перед выполнением команды ``git commit`` необходимо использовать команду [git add](#), чтобы добавить в проект («проиндексировать») изменения, которые будут сохранены в коммите. Эти две команды, ``git commit`` и ``git add``, используются чаще всего. 

### ***Распространенные опции***

```
git commit
```

Коммит проиндексированного состояния кода. Эта команда откроет текстовый редактор с предложением ввести комментарий к коммиту. После ввода комментария сохраните файл и закройте текстовый редактор, чтобы выполнить коммит.

```
git commit -a
```

Выполнение коммита состояния со всеми изменениями в рабочем каталоге. Эта команда включает только изменения отслеживаемых файлов (тех, которые были в какой-то момент добавлены в историю с помощью команды ``git add``).

```
git commit -m "commit message"
```

Быстрая команда, которая создает коммит с указанным комментарием. По умолчанию команда ``git commit`` открывает локально настроенный текстовый редактор с предложением ввести комментарий к коммиту. При передаче параметра -m текстовый редактор не открывается, а используется подставленный комментарий.

```
git commit -am "commit message"
```

Команда для опытных пользователей с параметрами ``-a`` и ``-m``. Эта комбинация параметров создает коммит всех проиндексированных изменений и добавляет к коммиту подставленный комментарий.

```
git commit --amend
```

Этот параметр добавляет команде commit новый уровень функциональности. При передаче этого параметра будет изменен последний коммит. Вместо создания нового коммита проиндексированные изменения будут добавлены в предыдущий коммит. Кроме того, эта команда откроет настроенный текстовый редактор системы с предложением изменить указанный ранее комментарий к коммиту.

## Примеры

### ***Сохранение изменений с помощью команды commit***

В следующем примере предполагается, что вы изменили содержимое файла ``hello.py`` в текущей ветке и готовы сделать коммит в историю проекта. Прежде всего, необходимо проиндексировать файл с помощью команды ``git add``, после чего можно будет сделать коммит проиндексированного снимка состояния.

```
git add hello.py
```

Эта команда добавит файл ``hello.py`` в раздел проиндексированных файлов **Git**. Проверить результат выполнения команды можно с помощью ``git status``.

```
git status
On branch main
Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)
   new file: hello.py
   ```


Окрашенный зеленым цветом вывод **«new file:** ``hello.py``» сообщает о том, что файл ``hello.py`` будет сохранен при выполнении следующего коммита. Коммит выполняется с помощью указанной ниже команды.
```
git commit
```

Эта команда откроет текстовый редактор (настраиваемый через ``git config``) для ввода комментария к коммиту и покажет список файлов, которые будут зафиксированы в этом коммите:

```
# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
# On branch main
# Changes to be committed:
# (use "git reset HEAD ..." to unstage)
#
#modified: hello.py
```

Особых требований для комментариев к коммиту в Git нет, но обычно первая строка содержит описания коммита длиной до **50** символов, затем следует пустая строка и детальное пояснение того, что было изменено. Пример:

```
Change the message displayed by hello.py

- Update the sayHello() function to output the user's name
- Change the sayGoodbye() function to a friendlier message
```

Обычно первая строка комментария к коммиту аналогична теме электронного письма. Остальная часть комментария считается текстом сообщения и используется для подробного описания набора изменений в коммите. Обратите внимание, что многие разработчики предпочитают использовать в комментариях настоящее время. Так комментарий становится больше похож на список действий в репозитории, благодаря чему многие операции перезаписи истории становятся более интуитивно понятными.

[< к содержанию](/readme.md)