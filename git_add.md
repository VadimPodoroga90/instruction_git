[< к содержанию](/readme.md)

# git add

Команда ``git add`` добавляет изменение из рабочего каталога в раздел проиндексированных файлов. Она сообщает **Git**, что вы хотите включить изменения в конкретном файле в следующий коммит. Однако на самом деле команда ``git add`` не оказывает существенного влияния на репозиторий: изменения регистрируются в нем только после выполнения команды ``git commit``

Наряду с этими командами вам понадобится команда ``git status``, которая показывает состояние рабочего каталога и раздела проиндексированных файлов.

## Порядок действий

Команды ``git add`` и ``git commit`` составляют основу рабочего процесса **Git**. Эти две команды должен изучить и понимать каждый пользователь **Git**, независимо от модели совместной работы, принятой в его команде. Эти команды используются для записи версий проекта в историю репозитория.

Работа над проектом ведется по стандартной схеме «редактирование — индексирование — коммит». Сначала вы редактируете файлы в рабочем каталоге. Когда вы будете готовы сохранить копию текущего состояния проекта, вы индексируете изменения командой ``git add``. Затем вы вызываете команду ``git commit``, которая добавляет проиндексированный снимок состояния в историю проекта. Для отмены коммита или проиндексированного снимка состояния используется команда ``git reset``.

Для полноценного процесса совместной работы в **Git** помимо ``git add`` и ``git commit`` необходима третья команда — ``git push``. ``git push`` используется для отправки подтвержденных изменений в удаленные репозитории для совместной работы, чтобы к набору сохраненных изменений могли получить доступ другие участники команды.

![add](/assets/add.svg)

Команду ``git add`` не следует путать с командой ``svn add``, которая добавляет файл в репозиторий. ``git add`` работает на более абстрактном уровне изменений. Это означает, что команду ``git add`` необходимо вызывать при каждом изменении файла, тогда как ``svn add`` вызывается для каждого файла только один раз. Это может показаться избыточным, но такой рабочий процесс облегчает поддержание порядка в проекте.

## Распространенные опции

```
git add <file>
```

Проиндексировать все изменения в файле ``<file>`` для следующего коммита.

```
git add <directory>
```

Проиндексировать все изменения в каталоге ``<directory>`` для следующего коммита.

```
git add -p
```

Начать интерактивный сеанс индексирования, во время которого вы сможете выбрать части файла, которые будут добавлены в следующий коммит. Команда представит фрагмент изменений и предложит вам ввести команду. Введите ``y``, чтобы проиндексировать фрагмент; ``n``, чтобы игнорировать фрагмент; ``s``, чтобы разбить его на более мелкие фрагменты; ``e``, чтобы вручную отредактировать фрагмент; ``q``, чтобы завершить работу с командой.

## Примеры

Когда вы только начинаете новый проект, команда ``git add`` выполняет ту же функцию, что и ``svn import``. Чтобы создать первичный коммит текущего каталога, используйте следующие две команды:

```
git add .
git commit
```

После того как начнется работа над проектом, можно будет добавить новые файлы, указав путь в команде ``git add``:

```
git add hello.py
git commit
```

Приведенную выше команду можно также использовать для регистрации изменений в существующих файлах. Вспомним, что Git не различает индексацию изменений в новых файлах и в файлах, которые уже добавлены в репозиторий.


[< к содержанию](/readme.md)